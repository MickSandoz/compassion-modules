<openerp>
    <data>
        <!-- Hold Message Creation -->
        <record id="create_hold" model="gmc.action">
            <field name="direction">out</field>
            <field name="name">CreateHold</field>
            <field name="mapping_name">create_hold</field>
            <field name="model">compassion.hold</field>
            <field name="description">This will send a new Hold to GMC.</field>
            <field name="connect_service">beneficiaries/holds</field>
            <field name="connect_outgoing_wrapper">BeneficiaryHoldRequestList</field>
            <field name="connect_answer_wrapper">BeneficiaryHoldResponseList</field>
            <field name="request_type">POST</field>
            <field name="batch_send">True</field>
        </record>
        <!-- Hold Message Release -->
        <record id="release_hold" model="gmc.action">
            <field name="direction">out</field>
            <field name="name">ReleaseHold</field>
            <field name="mapping_name">release_hold</field>
            <field name="model">compassion.hold</field>
            <field name="description">This will release a Hold on GMC.</field>
            <field name="connect_service">beneficiaries/holds/release</field>
            <field name="connect_outgoing_wrapper">BeneficiaryHoldReleaseRequestList</field>
            <field name="connect_answer_wrapper">BeneficiaryHoldReleaseResponseList</field>
            <field name="request_type">POST</field>
            <field name="batch_send">True</field>
        </record>
        <!-- Get beneficiaries details -->
        <record id="beneficiaries_details" model="gmc.action">
            <field name="direction">out</field>
            <field name="name">BeneficiariesDetails</field>
            <field name="mapping_name">GetDetails</field>
            <field name="model">compassion.child</field>
            <field name="connect_answer_wrapper">BeneficiaryResponseList</field>
            <field name="description">This will update child</field>
            <field name="connect_service">beneficiaries/{$object.global_id}/details</field>
            <field name="request_type">GET</field>
            <field name="auto_process">True</field>
            <field name="success_method">details_answer</field>
        </record>
        <!-- Get ICP details -->
        <record id="icp_details" model="gmc.action">
            <field name="direction">out</field>
            <field name="name">ICPDetails</field>
            <field name="model">compassion.project</field>
            <field name="connect_answer_wrapper">ICPResponseList</field>
            <field name="description">This will update the project</field>
            <field name="connect_service">churchpartners/{$object.icp_id}/kits/icpkit</field>
            <field name="request_type">GET</field>
            <field name="auto_process">True</field>
            <field name="success_method">details_answer</field>
        </record>
        <!-- Reservation Message Creation -->
        <record id="create_reservation" model="gmc.action">
            <field name="direction">out</field>
            <field name="name">CreateReservation</field>
            <field name="mapping_name">create_reservation</field>
            <field name="model">icp.reservation</field>
            <field name="description">This will send a new Reservation to GMC.</field>
            <field name="connect_service">churchpartners/reservations</field>
            <field name="connect_outgoing_wrapper">GlobalPartnerReservationRequestList</field>
            <field name="connect_answer_wrapper">GlobalPartnerReservationResponseList</field>
            <field name="request_type">POST</field>
            <field name="auto_process">True</field>
        </record>
        <!-- Reservation Message Release -->
        <record id="cancel_reservation" model="gmc.action">
            <field name="direction">out</field>
            <field name="name">CancelReservation</field>
            <field name="mapping_name">cancel_reservation</field>
            <field name="model">icp.reservation</field>
            <field name="description">This will send a reservation cancelling request to GMC.</field>
            <field name="connect_service">churchpartners/reservations/cancellations</field>
            <field name="connect_outgoing_wrapper">ReservationCancelRequestList</field>
            <field name="connect_answer_wrapper">ReservationCancelResponseList</field>
            <field name="request_type">POST</field>
            <field name="auto_process">True</field>
        </record>
        <!-- Beneficiary Major Revision -->
        <record id="major_revision" model="gmc.action">
            <field name="direction">in</field>
            <field name="name">BeneficiaryMajorRevision</field>
            <field name="model">compassion.child</field>
            <field name="incoming_method">major_revision</field>
            <field name="description">This will update the child with the major changes that happened.</field>
            <field name="auto_process">True</field>
        </record>
        <!-- Beneficiary CDPR Messages -->
        <record id="beneficiary_cdpr" model="gmc.action">
            <field name="direction">in</field>
            <field name="name">BeneficiaryCDPR</field>
            <field name="model">compassion.child.cdpr</field>
            <field name="description">This handles the reception of a Beneficiary CDPR.</field>
            <field name="auto_process">1</field>
        </record>
        <!-- Reservation Messages -->
        <record id="beneficiary_reservation_to_hold" model="gmc.action">
            <field name="direction">in</field>
            <field name="name">BeneficiaryRes</field>
            <field name="model">icp.reservation</field>
            <field name="description">This handles the reception of a reserved Beneficiary.</field>
            <field name="auto_process">1</field>
        </record>
        <!-- Household Major Revision -->
        <record id="major_revision_household" model="gmc.action">
            <field name="direction">in</field>
            <field name="name">HouseholdMajorRevision</field>
            <field name="model">compassion.household</field>
            <field name="description">This will update the household with the major changes that happened.</field>
            <field name="auto_process">True</field>
        </record>
        <!-- Lifecycle Message -->
        <record id="new_life_cycle" model="gmc.action">
            <field name="direction">in</field>
            <field name="name">NewLifeCycle</field>
            <field name="model">compassion.child.ble</field>
            <field name="description">This will create a new life cycle event.</field>
            <field name="auto_process">1</field>
        </record>

        <!-- Actions to Connect mappings -->
        <record id="major_revision_connect" model="gmc.action.connect">
            <field name="connect_schema">http://schemas.ci.org/ci/messaging/beneficiary/2016/03/MajorRevisionKit</field>
            <field name="action_id" ref="major_revision"/>
        </record>
        <record id="beneficiary_cdpr_connect" model="gmc.action.connect">
            <field name="connect_schema">http://schemas.ci.org/ci/messaging/beneficiary/2016/03/CDPRAssessmentKit</field>
            <field name="action_id" ref="beneficiary_cdpr"/>
        </record>
        <record id="beneficiary_reservation_to_hold_connect" model="gmc.action.connect">
            <field name="connect_schema">http://schemas.ci.org/ci/messaging/availability/2016/03/ReservationHoldReminder</field>
            <field name="action_id" ref="beneficiary_reservation_to_hold"/>
        </record>
        <record id="major_revision_household_connect" model="gmc.action.connect">
            <field name="connect_schema">http://schemas.ci.org/ci/messaging/beneficiary/2016/03/HouseholdMajorRevisionKit</field>
            <field name="action_id" ref="major_revision_household"/>
        </record>
        <record id="new_life_cycle_connect" model="gmc.action.connect">
            <field name="connect_schema">http://schemas.ci.org/ci/messaging/beneficiary/2016/03/LifecycleEvent</field>
            <field name="action_id" ref="new_life_cycle"/>
        </record>
    </data>
</openerp>
